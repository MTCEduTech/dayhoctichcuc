<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="auth.js"></script>
  <title>So·∫°n C√¢u H·ªèi</title>
  <style>
    .sticky-marquee {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background-color: white;
      z-index: 1000;
      padding: 5px 0;
      border-bottom: 1px solid #ccc;
    }
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      padding: 50px 20px 0 20px; /* ƒë·∫©y n·ªôi dung xu·ªëng d∆∞·ªõi ch·ªØ ch·∫°y */
      background-color: white;
      color: black;
    }

.main-area {
  flex: 1;
  padding: 30px 40px 30px 40px;
  min-height: 100vh;
  box-sizing: border-box;
}


    .question-block { border-bottom: 1px solid #ccc; margin-bottom: 30px; padding-bottom: 20px; }
    input[type="text"] { width: 100%; padding: 10px; margin-bottom: 10px; font-size: 16px; }
    .title-input {
  text-align: center;
  font-weight: bold;
  color: red;
  font-size: 20px;
  margin: 0 auto;
  display: block;
}

   
.question-row,
.answer-row {
  display: flex;
  align-items: center;
  gap: 10px;
 
  padding-right: 10px;
  margin-bottom: 15px;
}
.question-text,
.answer-text {
  flex: 1; /* d√£n h·∫øt chi·ªÅu ngang c√≤n l·∫°i */
  padding: 10px;
  font-size: 16px;
}
    .hint { font-size: 12px; color: black; }
    .preview-img { max-width: 100%; max-height: 200px; display: block; margin-top: 5px; }
    .hidden-input { display: none; }

    button {
  padding: 10px 15px;
  font-size: 16px;
  margin-right: 10px;
  margin-top: 20px;
  background-color: #007BFF;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}


body {
  display: flex;
  flex-direction: row;
gap: 0px; /* ƒë·∫£m b·∫£o kh√¥ng c√≥ kho·∫£ng h·ªü */
}

.sidebar-buttons {
  width: 250px;
  position: fixed;
  right: 0;
  top: 0;
  height: 100vh; /* ‚Üê Chi·∫øm to√†n b·ªô chi·ªÅu cao c·ª≠a s·ªï tr√¨nh duy·ªát */
  display: flex;
  flex-direction: column;
  gap: 10px;
  padding: 20px;
  background-color: #f9f9f9;
  border-left: 4px solid #007BFF; /* ƒê∆∞·ªùng k·∫ª m√†u */
  box-shadow: -2px 0 5px rgba(0,0,0,0.1);
  overflow-y: auto; /* Cho ph√©p cu·ªôn n·∫øu nhi·ªÅu n√∫t */
}

.answer-container {
  width: 100%;
}
.answer-row {
  display: flex;
  align-items: center;
  gap: 10px;
}
.answer-text {
  flex: 1;
}
.main-content {
  flex: 0.75;
  padding: 20px;
}

/* ======= T√πy ch·ªânh nh√≥m n√∫t ‚ÄúCh·ªâ s·ªë‚Äù ======= */
.index-buttons {
  display: flex;
  flex-wrap: wrap;        /* T·ª± ƒë·ªông xu·ªëng h√†ng */
  gap: 6px;               /* Kho·∫£ng c√°ch gi·ªØa c√°c n√∫t */
  margin-top: 6px;
}

.index-buttons button {
  flex: 1 1 75px;         /* M·ªói n√∫t r·ªông t·ªëi thi·ªÉu 75px */
  font-weight: bold;
  font-size: 14px;
  padding: 6px 10px;
  border-radius: 6px;
  background-color: #007BFF;
  color: white;
  border: none;
  cursor: pointer;
  transition: background-color 0.2s ease;
}

.index-buttons button:hover {
  background-color: #0056b3;
}

  </style>
<!-- MathJax c·∫•u h√¨nh ƒë·∫ßy ƒë·ªß (c√≥ g√≥i ams ƒë·ªÉ hi·ªÉn th·ªã m≈©i t√™n, ph√¢n s·ªë, v.v.) -->
<script>
window.MathJax = {
  loader: {load: ['[tex]/ams']}, // B·∫Øt bu·ªôc t·∫£i g√≥i ams cho l·ªánh \xrightleftharpoons
  tex: {
    inlineMath: [['\\(','\\)']],
    displayMath: [['$$','$$']]
  },
  svg: {fontCache: 'global'}
};
</script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>

<div class="sticky-marquee">
  <marquee behavior="scroll" direction="left" style="color: blue; font-weight: bold;">
    CH√ÄO M·ª™NG B·∫†N ƒê·∫æN V·ªöI TR√åNH SO·∫†N - XU·∫§T + ƒê·∫¢O ƒê·ªÄ TR·∫ÆC NGHI·ªÜM L·ª∞A CH·ªåN - ·ª®NG D·ª§NG N√ÄY L√Ä S·∫¢N PH·∫®M VI·∫æT CODE C·ª¶A TH·∫¶Y GI√ÅO MAI THI·ªÜN CH√ÅNH (GV TR∆Ø·ªúNG THCS) NH·ªú S·ª∞ H·ªñ TR·ª¢ C·ª¶A AI - CH√öC QU√ù TH·∫¶Y C√î TR·∫¢I NGHI·ªÜM TH√ÄNH C√îNG V·ªöI S·∫¢N PH·∫®M
  </marquee>

</div>

<div class="main-content">
<div id="container">
  	<div class="question-block">
    <input type="text" class="title-input" placeholder="Nh·∫≠p ti√™u ƒë·ªÅ b√†i ki·ªÉm tra - M√¥n">
	</div>
  </div>
</div>


<script src="script.js"></script>
<script>
  document.addEventListener('click', function(e) {
    if (e.target && e.target.classList.contains('insert-question-img')) {
      const container = e.target.closest('.question-block');
      const input = container.querySelector('.question-img-input');
      input.click();
    }
  });

  function handleQuestionImage(event, input) {
    const file = event.target.files[0];
    const reader = new FileReader();
    reader.onload = function(e) {
      const img = input.nextElementSibling;
      img.src = e.target.result;
      img.style.display = 'block';
      img.dataset.base64 = e.target.result;
    };
    if (file) reader.readAsDataURL(file);
  }
</script>

<div style="
  position: fixed;
  bottom: 20px;
  left: 20px;
  z-index: 9999;
  display: flex;
  flex-direction: column;
  gap: 10px;
  align-items: flex-start;
">
  <button id="fullscreen-btn" onclick="toggleFullscreen()" style="
    background-color: #3498db;
    color: white;
    font-weight: bold;
    border: none;
    padding: 10px 15px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 16px;
    width: 220px;
    display: block;
transition: background-color 0.3s ease;
  ">
    üì± FULL M√ÄN H√åNH
  </button>
</div>
<script>
/* Toggle fullscreen (d·ª±ng theo English.html) */
function toggleFullscreen() {
    const docElm = document.documentElement;

    // N·∫øu ƒëang fullscreen -> tho√°t
    if (document.fullscreenElement || document.webkitIsFullScreen || document.mozFullScreen || document.msFullscreenElement) {
        if (document.exitFullscreen) {
            document.exitFullscreen();
        } else if (document.mozCancelFullScreen) { // Firefox
            document.mozCancelFullScreen();
        } else if (document.webkitExitFullscreen) { // Chrome, Safari, Opera
            document.webkitExitFullscreen();
        } else if (document.msExitFullscreen) { // IE/Edge
            document.msExitFullscreen();
        }
    } else {
        // V√†o fullscreen
        if (docElm.requestFullscreen) {
            docElm.requestFullscreen();
        } else if (docElm.mozRequestFullScreen) { // Firefox
            docElm.mozRequestFullScreen();
        } else if (docElm.webkitRequestFullscreen) { // Chrome, Safari and Opera
            docElm.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);
        } else if (docElm.msRequestFullscreen) { // IE/Edge
            docElm.msRequestFullscreen();
        }
    }
}

/* C·∫≠p nh·∫≠t nh√£n n√∫t khi tr·∫°ng th√°i fullscreen thay ƒë·ªïi (nh·∫•n ESC) */
function updateFullscreenButton() {
    const fullscreenBtn = document.getElementById('fullscreen-btn');
    if (!fullscreenBtn) return;

    const isFullscreen = document.fullscreenElement || document.webkitIsFullScreen || document.mozFullScreen || document.msFullscreenElement;

    if (isFullscreen) {
        fullscreenBtn.innerHTML = '‚ùå FULL M√ÄN H√åNH';
        fullscreenBtn.style.backgroundColor = '#e67e22'; // m√†u khi ƒëang fullscreen
    } else {
        fullscreenBtn.innerHTML = 'üì± FULL M√ÄN H√åNH';
        fullscreenBtn.style.backgroundColor = '#3498db'; // m√†u khi ch∆∞a fullscreen
    }
}

/* L·∫Øng nghe s·ª± ki·ªán thay ƒë·ªïi fullscreen (k√®m c√°c ti·ªÅn t·ªë cho tr√¨nh duy·ªát) */
document.addEventListener('fullscreenchange', updateFullscreenButton);
document.addEventListener('webkitfullscreenchange', updateFullscreenButton);
document.addEventListener('mozfullscreenchange', updateFullscreenButton);
document.addEventListener('MSFullscreenChange', updateFullscreenButton);

/* Kh·ªüi t·∫°o tr·∫°ng th√°i n√∫t (n·∫øu trang load m√† ƒëang fullscreen) */
document.addEventListener('DOMContentLoaded', updateFullscreenButton);
</script>
<div class="sidebar-buttons">
  <div id="container">
<div style="position: absolute; top: 60px; right: 20px; z-index: 1001;">
<button onclick="addQuestion()">‚ûïTh√™m c√¢u h·ªèi kh√°c</button><br>
<button onclick="exportToHTML()">üíæ Xu·∫•t ƒë·ªÅ tr·∫Øc nghi·ªám</button><br>
<button onclick="saveDraft()">üìã L∆∞u t·∫°m th·ªùi d·ªØ li·ªáu</button>
<button onclick="resetForm()">üìùT·∫°o m·ªõi ho√†n to√†n</button>
<input type="file" id="upload-html-file" accept=".html" style="display: none;" onchange="importFromHTML(event)">
<button onclick="document.getElementById('upload-html-file').click()">üìÇ T·∫£i v√†o l·∫°i ƒë·ªÅ ƒë√£ xu·∫•t</button>
<div style="margin-top:20px; border-top:1px solid #ccc; padding-top:10px;">
  <b>Ch√®n ch·ªâ s·ªë h·∫∑c CTHH</b><br>

<div class="index-buttons">
  <button type="button" onclick="insertText('^')">X¬≤</button>
  <button type="button" onclick="insertText('_')">X‚ÇÇ</button>
  <button type="button" onclick="insertText('^{ }')">^{ }</button>
  <button type="button" onclick="insertText('_{ }')">_{ }</button>
  <button type="button" onclick="insertText('\\frac{a}{b}')">a/b</button>
  <button type="button" onclick="insertText('\\sqrt{x}')">‚àöx</button>
  <button type="button" onclick="insertText('\\sum x')">Œ£x</button>
  <button type="button" onclick="insertText('M_{Fe_2(SO_4)_3}')">M Fe‚ÇÇ(SO‚ÇÑ)‚ÇÉ</button>
  <button type="button" onclick="insertText('\\xrightarrow{\\text{ƒëi·ªÅu ki·ªán}}')">‚Üí t¬∞ ho·∫∑c x√∫c t√°c</button>
<button type="button" onclick="insertText('\\overset{\\text{t¬∞, x√∫c t√°c}}{\\longleftrightarrow}')">‚Üî Thu·∫≠n ngh·ªãch</button>

</div>

<p style="font-size:11px;color:blue;margin-top:5px;">
  D√πng c√°c m·∫´u n√†y r·ªìi ch·ªânh s·ª≠a ‚Üí Khi xu·∫•t ƒë·ªÅ, HTML s·∫Ω hi·ªÉn th·ªã ƒë√∫ng ch·ªâ s·ªë, ph√¢n s·ªë, cƒÉn b·∫≠c hai, t·ªïng, CTHH ho·∫∑c ƒëi·ªÅu ki·ªán ph·∫£n ·ª©ng.
</p>

</div>

</div>
<div style="position: fixed; bottom: 10px; right: 20px; z-index: 1001;">
  <button onclick="window.location.href='index.html'" style="background-color: red; color: white; font-weight: bold; border: none; padding: 10px 15px; border-radius: 5px; cursor: pointer;">
    üè† V·ªÄ TRANG CH·ª¶ </button></div>
</div>
</div>
<script>
let currentFocusInput = null;

document.addEventListener('focusin', function(e){
  if(e.target.tagName === "INPUT" || e.target.tagName === "TEXTAREA"){
    currentFocusInput = e.target;
  }
});

function insertText(text){
  if(!currentFocusInput) return;
  const start = currentFocusInput.selectionStart;
  const end   = currentFocusInput.selectionEnd;
  const val   = currentFocusInput.value;
  currentFocusInput.value = val.slice(0,start) + text + val.slice(end);
  currentFocusInput.focus();
  currentFocusInput.selectionStart = currentFocusInput.selectionEnd = start + text.length;
}
</script>

<script src="chao_name.js"></script>
</body>
</html>