<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="auth.js"></script>
<title>V√≤ng Quay May M·∫Øn - Nh·∫≠p T√™n</title>
<style>
body {
    max-width: 100vw;
    max-height: 100vh;
    overflow-y: auto;
    margin: 0;
    padding: 0;
    font-size: 16px;
    box-sizing: border-box;
}
div {
    box-sizing: border-box;
}
    .container {
    display: flex;
    flex-wrap: wrap;
    width: 100%;
    height: 100%;
    overflow: hidden;
}
#countdown {
    font-family: 'DongHoFont', sans-serif;
}
#result {
    max-width: 100%;
    width: 100%;
    box-sizing: border-box;
    word-wrap: break-word;
    overflow-wrap: break-word;
    flex: 1;
}
body {
  font-family: Times New Roman;
  margin: 0;
  padding: 0;
  background-image: url('Nen2.jpg'); /* thay 'Nen2.jpg' b·∫±ng ƒë∆∞·ªùng d·∫´n ·∫£nh th·∫≠t */
  background-size: cover;
  background-attachment: fixed;
  background-position: center;
  background-repeat: no-repeat;
}

    canvas {
      border: 5px solid white;
      border-radius: 50%;
      display: block;
      margin: 0 auto;
      position: relative;
      z-index: 1;
    }
   .wheel-container {
       flex: 2;
  position: relative;
  width: 100%;
  max-width: 500px;
  aspect-ratio: 1 / 1;
  margin: auto;
}

#wheelCanvas {
  border: 5px solid white;
  border-radius: 50%;
  display: block;
  width: 100%;
  height: auto;
  aspect-ratio: 1 / 1;
}

#logo {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 150px;
  height: 150px;
  border-radius: 50%;
  pointer-events: none;
  z-index: 2;
}

#arrow {
  position: absolute;
  top: 50%;
  left: 100%;
  transform: translateY(-50%) rotate(180deg);
  width: 0;
  height: 0;
  border-top: 20px solid transparent;
  border-bottom: 20px solid transparent;
  border-left: 30px solid red;
  z-index: 3;
}
    textarea {
      width: 100%;
      height: 300px;
      font-size: 16px;
      padding: 5px;
    }
    .results {
        flex: 1.2;
  min-width: 250px;
      margin-top: 0;
    }
    table {
      border-collapse: collapse;
      width: 100%;
    }
       .action-buttons {
      margin-top: 20px;
    }
    h1, h2, h3 {
      text-align: center;
    }

    /* N√∫t */
    button {
      font-size: 16px;
      padding: 10px 16px;
      border: none;
      border-radius: 8px;
      margin: 5px;
      cursor: pointer;
    }

     button.red {
      background-color: #dc3545;
      color: white;
    }

    button:hover {
      opacity: 0.9;
    }
button.info {
  background-color: #2196f3; /* xanh d∆∞∆°ng */
  color: white;
}

.left-column {
  text-align: center;
    flex: 1;
  min-width: 250px;
}

#nameInput {
  width: 80%;           /* nh·ªè h∆°n, kh√¥ng chi·∫øm h·∫øt chi·ªÅu ngang */
  height: 180px;         /* gi·∫£m chi·ªÅu cao */
  font-size: 16px;
  padding: 5px;
  resize: none;
  margin: 0 auto;        /* canh gi·ªØa theo chi·ªÅu ngang */
  display: block;        /* c·∫ßn thi·∫øt ƒë·ªÉ margin auto ho·∫°t ƒë·ªông */
}


#resultTable, #resultTable th, #resultTable td {
  color: yellow;
  border: 1px solid white;
}

#resultTable td:first-child {
  text-align: center;
}
#resultTable td:nth-child(2) {
  padding-left: 12px;
  padding-right: 12px;
}
#info-box {
  text-align: justify;	// Canh ƒë·ªÅu ch·ªØ trong √¥ m·ªü ra d·ªÖ ƒë·ªçc
}

#resultBox {
  width: 100%;
  max-width: 100%;
  margin-bottom: 20px;
  background: #f2f2f2;
  border: 2px solid #ccc;
  border-radius: 10px;
  padding: 20px;
  text-align: center;
  box-shadow: 0 0 10px rgba(0,0,0,0.1);
}

#resultBox h3 {
  margin: 0 0 10px;
  font-size: 20px;
  color: #333;
}

#resultText {
  font-size: 28px;
  font-weight: bold;
  color: blue;
}

</style>
    <link rel="stylesheet" href="menu.css">
</head>
<body>
<marquee direction="left" scrollamount="8" style="color:white; font-weight:bold; font-size: 20px; margin: 0px 0;">H∆Ø·ªûNG ·ª®NG CHUY·ªÇN ƒê·ªîI S·ªê TRONG NG√ÄNH GI√ÅO D·ª§C - M·ªñI GI√ÅO VI√äN V√Ä M·ªñI NG∆Ø·ªúI L√ÄM TRONG NG√ÄNH GI√ÅO D·ª§C M·ªòT ƒê√ìNG G√ìP, T√åM KI·∫æM V√Ä PH√ÅT HUY C√ÅC C√îNG NGH·ªÜ H·ªñ TR·ª¢ TRONG C√îNG T√ÅC D·∫†Y V√Ä H·ªåC HI·ªÜU QU·∫¢; S·∫¢N PH·∫®M N√ÄY L√Ä C√îNG C·ª§ ·ª®NG D·ª§NG V√ÄO GI·∫¢NG D·∫†Y, ƒê∆Ø·ª¢C VI·∫æT NH·ªú S·ª∞ H·ªñ TR·ª¢ C·ª¶A AI</marquee>
<center><span style="font-size: 32px; font-weight: bold; color: yellow;">üéâ V√íNG QUAY MAY M·∫ÆN (NH·∫¨P T√äN NG∆Ø·ªúI THAM GIA) üéâ</span><br/><br/>

<div class="container">
<div class="left-column">
<!-- Kh·ªëi l·ªùi ch√†o ƒë·∫∑t ngay tr√™n d√≤ng nh·∫≠p t√™n -->
<div id="loiChao" style="max-width: 100%; padding: 8px; background-color: #fefefe; border: 1px solid #ccc; border-radius: 10px; text-align: center; font-size: 14px; margin-bottom: 15px; font-family: Times New Roman;">
  <div id="dongHoHienTai" style="font-size: 18px; color: green; font-weight: bold; margin-top: 5px;"></div>
  <script>
    function capNhatDongHo() {
      const dongHo = document.getElementById("dongHoHienTai");
      const now = new Date();
      const gio = String(now.getHours()).padStart(2, '0');
      const phut = String(now.getMinutes()).padStart(2, '0');
      const giay = String(now.getSeconds()).padStart(2, '0');
      dongHo.textContent = `‚è∞ B√¢y gi·ªù l√†: ${gio}:${phut}:${giay}`;
    }
    setInterval(capNhatDongHo, 1000);
    capNhatDongHo();
  </script>
  <center>
    <script type="text/javascript">
      var mydate=new Date();
      var year=mydate.getYear();
      if (year < 1000) year+=1900;
      var day=mydate.getDay();
      var month=mydate.getMonth();
      var daym=mydate.getDate();
      if (daym<10) daym="0"+daym;
      var dayarray=new Array("CH·ª¶ NH·∫¨T","TH·ª® HAI","TH·ª® BA","TH·ª® T∆Ø","TH·ª® NƒÇM","TH·ª® S√ÅU","TH·ª® B·∫¢Y");
      var montharray=new Array("01","02","03","04","05","06","07","08","09","10","11","12");
      document.write("<font color='red' face='Arial' size='2'><b>"+dayarray[day]+",  "+daym+"/"+montharray[month]+"/"+year+"</b></font>");
    </script>
    <script>
      var d = new Date();
      var hourValue = d.getHours();
      var greeting = "", greeting1 = "";
      if (hourValue < 6) { greeting = "Ch√†o ng√†y m·ªõi!"; greeting1 = "Ch√∫c c√°c b·∫°n m·ªôt ng√†y m·ªõi an l√†nh!"; }
      else if (hourValue < 9) { greeting = "Ch√†o bu·ªïi s√°ng!"; greeting1 = "Ch√∫c c√°c b·∫°n m·ªôt bu·ªïi s√°ng t·ªët l√†nh!"; }
      else if (hourValue < 11) { greeting = "S·∫Øp tr∆∞a r·ªìi!"; greeting1 = "Ch√∫c c√°c b·∫°n c√≥ m·ªôt ng√†y th√†nh c√¥ng v√† h·∫°nh ph√∫c!"; }
      else if (hourValue < 13) { greeting = "ƒê√£ bu·ªïi tr∆∞a r·ªìi ƒë√≥!"; greeting1 = "Ch√∫c c√°c b·∫°n c√≥ b·ªØa tr∆∞a th·∫≠t ngon mi·ªáng!"; }
      else if (hourValue < 17) { greeting = "ƒê√£ bu·ªïi chi·ªÅu!"; greeting1 = "H√£y c·ªë g·∫Øng ho√†n th√†nh c√¥ng vi·ªác trong ng√†y!"; }
      else if (hourValue < 18) { greeting = "S·∫Øp t·ªëi r·ªìi!"; greeting1 = "Ch√∫c c√°c b·∫°n c√≥ b·ªØa t·ªëi th·∫≠t ngon mi·ªáng b√™n ng∆∞·ªùi th√¢n!"; }
      else if (hourValue <= 21) { greeting = "Ch√†o bu·ªïi t·ªëi!"; greeting1 = "Ch√∫c c√°c b·∫°n c√≥ b·ªØa t·ªëi th·∫≠t vui v·∫ª v√† h·∫°nh ph√∫c b√™n ng∆∞·ªùi th√¢n!"; }
      else { greeting = "Khuya r·ªìi ƒë·∫•y!"; greeting1 = "H√£y ƒëi ng·ªß th√¥i! Ch√∫c c√°c b·∫°n c√≥ m·ªôt gi·∫•c ng·ªß th·∫≠t ngon!"; }
      document.write("<h3 style='color:#2a2a2a;'>" + greeting + "</h3><p style='font-size:16px; color:blue;'>" + greeting1 + "</p>");
    </script>
  </center>
</div>

<h3 style="color: yellow;">Nh·∫≠p danh s√°ch t√™n ng∆∞·ªùi ch∆°i<br/>(m·ªói t√™n m·ªôt d√≤ng):</h3>

<textarea id="nameInput" placeholder="Mai Thi·ªán Ch√°nh
Nguy·ªÖn Th·ªã H·ªìng Li√™n
Mai ƒêƒÉng Kh√¥i
Mai ƒêƒÉng Khoa
B√© c√∫n N√¢u N√¢u">
Mai Thi·ªán Ch√°nh
Nguy·ªÖn Th·ªã H·ªìng Li√™n
Mai ƒêƒÉng Kh√¥i
Mai ƒêƒÉng Khoa
B√© c√∫n N√¢u N√¢u</textarea>
<div>
<button class="green" onclick="updateWheel()">C·∫≠p nh·∫≠t t√™n v√†o v√≤ng quay</button><br/>
<button class="info" onclick="showInstructions()">H∆Ø·ªöNG D·∫™N</button>
<button class="info" onclick="showContact()">TH√îNG TIN T√ÅC GI·∫¢</button>
</div>
    
</div>
<div class="wheel-section">
  <div class="wheel-container">
    <canvas id="wheelCanvas" width="500" height="500"></canvas>
    <img id="logo" src="logo.png" alt="Logo">
    <div id="arrow"></div>
  </div>

<div style="margin-top: 10px; display: flex; align-items: center; justify-content: center; gap: 10px; color: yellow; font-weight: bold;">
    <label for="timeSelect" style="font-size: 24px;">Th·ªùi gian ƒë·∫øm ng∆∞·ª£c:</label>
    <select id="timeSelect" style="padding: 6px;"></select>
    <button onclick="startCountdown()" style="padding: 8px 16px; background-color: #28a745; color: white; font-weight: bold; font-size: 16px; border: none; border-radius: 6px; cursor: pointer;">
      B·∫Øt ƒë·∫ßu
    </button>
    <div id="timer-box" style="text-align: center; height: 50px; line-height: 50px; font-size: 24px; font-weight: bold; color: white; border-radius: 8px; background-color: black; padding: 0 12px;">
      00:00
    </div>
  </div>
</div>
<div class="results">
<div id="resultBox">
<h3>K·∫æT QU·∫¢ RANDOM</h3>
<div id="resultText">H√£y ·∫•n v√†o v√≤ng quay...</div>
</div><center>
<div class="action-buttons">
<button class="red" onclick="removeLastWinner()">X√≥a t√™n v·ª´a quay</button>
<button class="red" onclick="clearAll()">X√≥a to√†n b·ªô</button>
<button class="green" onclick="exportToExcel()">Xu·∫•t Excel</button>
</div>
</center>
<br/>
<table id="resultTable">
<tr><th>L·∫ßn quay</th><th>T√™n ng∆∞·ªùi may m·∫Øn</th></tr>
</table><br/>
<div id="info-box" style="margin-top: 10px; display: none; background-color: #e3f2fd; padding: 15px; border-radius: 10px; border: 1px solid #90caf9;">
</div>
</div>

</div>

<script>

    const canvas = document.getElementById('wheelCanvas');
    const ctx = canvas.getContext('2d');
    let segments = [];
    let angle = 0;
    let spinning = false;
    let spinVelocity = 0;
    let spinDecay = 0.991;
    let resultCount = 0;

    function drawWheel() {
  const centerX = canvas.width / 2;
  const centerY = canvas.height / 2;
  const radius = 240;
  const segAngle = 2 * Math.PI / segments.length;

  ctx.clearRect(0, 0, canvas.width, canvas.height);

  const colors = ['#FF6633', '#FF33FF', '#00B3E6', '#3366E6', '#FFB399', '#FF1A66', '#E6331A', '#33FFCC', '#66994D', '#B366CC'];

  for (let i = 0; i < segments.length; i++) {
    const startAngle = angle + i * segAngle;
    const endAngle = startAngle + segAngle;
    const color = colors[i % colors.length];

    ctx.beginPath();
    ctx.moveTo(centerX, centerY);
    ctx.arc(centerX, centerY, radius, startAngle, endAngle);
    ctx.fillStyle = color;
    ctx.fill();
    ctx.stroke();

  
  const textColor = "#FFFFFF"; // M·∫∑c ƒë·ªãnh ch·ªØ tr·∫Øng trong v√≤ng tr√≤n cho ƒë·ªìng nh·∫•t v√† d·ªÖ ƒë·ªçc



    ctx.save();
ctx.translate(centerX, centerY);
ctx.rotate(startAngle + segAngle / 2);
ctx.textAlign = "right";
ctx.fillStyle = "#FFFFFF"; // lu√¥n d√πng m√†u tr·∫Øng
ctx.font = "16px Arial";
ctx.fillText(segments[i], radius - 10, 5);
ctx.restore();

  }
}

function hexToRgb(hex) {
  hex = hex.replace('#', '');
  const bigint = parseInt(hex, 16);
  return {
    r: (bigint >> 16) & 255,
    g: (bigint >> 8) & 255,
    b: bigint & 255
  };
}


    function updateWheel() {
      const input = document.getElementById('nameInput').value.trim();
      if (!input) {
        alert("Vui l√≤ng nh·∫≠p √≠t nh·∫•t m·ªôt t√™n.");
        return;
      }
      segments = input.split('\n').map(name => name.trim()).filter(name => name);
      if (segments.length === 0) {
        alert("Danh s√°ch kh√¥ng h·ª£p l·ªá.");
        return;
      }
      angle = 0;
      drawWheel();
    }

    function spinWheel() {
      if (segments.length === 0) {
        alert("Vui l√≤ng nh·∫≠p danh s√°ch v√† nh·∫•n 'C·∫≠p nh·∫≠t v√≤ng quay'.");
        return;
      }
      if (spinning) return;
 // ‚úÖ ƒê·∫£m b·∫£o ng∆∞·ªùi d√πng ƒë√£ click r·ªìi m·ªõi play
  document.getElementById("spinSound").currentTime = 0;
  document.getElementById("spinSound").play().catch(e => {
    console.log("Kh√¥ng th·ªÉ ph√°t √¢m thanh: ", e);
  });
  document.getElementById("resultText").innerText = "N√≠n th·ªü ch·ªù ch√∫t, ƒëang quay...";
  document.getElementById("resultText").style.color = "Red";
      spinning = true;
      spinVelocity = Math.random() * 0.3 + 0.25;
      animateSpin();
    }

    function animateSpin() {
      if (!spinning) return;
      angle += spinVelocity;
      spinVelocity *= spinDecay;
      drawWheel();

      if (spinVelocity < 0.002) {
        spinning = false;
        const segAngle = 2 * Math.PI / segments.length;
        let index = Math.floor(((2 * Math.PI - (angle % (2 * Math.PI))) % (2 * Math.PI)) / segAngle);
        let selectedName = segments[index];
        resultCount++;
        const table = document.getElementById('resultTable');
        const row = table.insertRow();
        row.insertCell(0).innerText = resultCount;
        row.insertCell(1).innerText = selectedName;
document.getElementById("cheerSound").play(); // üéâ Ph√°t √¢m thanh khi hi·ªán k·∫øt qu·∫£
        document.getElementById("resultText").innerText = selectedName;
        document.getElementById("resultText").style.color = "blue";
      } else {
        requestAnimationFrame(animateSpin);
      }
    }

    canvas.addEventListener('click', spinWheel);

    function clearAll() {
      document.getElementById('nameInput').value = '';
      document.getElementById('resultTable').innerHTML = '<tr><th>L·∫ßn quay</th><th>T√™n tr√∫ng th∆∞·ªüng</th></tr>';
      segments = [];
      drawWheel();
      resultCount = 0;
    }

    function exportToExcel() {
  let table = document.getElementById("resultTable");
  let html = table.outerHTML;

  // Th√™m BOM ƒë·ªÉ Excel hi·ªÉu ƒë√∫ng UTF-8
  let utf8BOM = '\uFEFF';
  let blob = new Blob([utf8BOM + html], {
    type: 'application/vnd.ms-excel;charset=utf-8;'
  });

  let url = URL.createObjectURL(blob);
  let link = document.createElement("a");
  link.href = url;
  link.download = 'ket_qua_vong_quay.xls';
  document.body.appendChild(link);
  link.click();
  document.body.removeChild(link);
}


    function openNewTab() {
      window.open('vong_quay_so.html', '_blank');
      window.close();
    }

    window.onload = function() {
      updateWheel();
    };

function removeLastWinner() {
  if (resultCount === 0) {
    alert("Ch∆∞a c√≥ t√™n n√†o ƒë∆∞·ª£c quay.");
    return;
  }

  const table = document.getElementById('resultTable');
  const lastRow = table.rows[table.rows.length - 1];
  const lastName = lastRow.cells[1].innerText;

  const confirmDelete = confirm(`B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a t√™n "${lastName}" kh·ªèi v√≤ng quay?`);

  if (confirmDelete) {
    // X√≥a t√™n kh·ªèi danh s√°ch
    segments = segments.filter(name => name !== lastName);

     // V·∫Ω l·∫°i v√≤ng quay
    drawWheel();
  }
}

function showInstructions() {
  const infoBox = document.getElementById("info-box");
  if (infoBox.style.display === "block" && infoBox.innerHTML.includes("H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng")) {
    infoBox.style.display = "none";
  } else {
    infoBox.innerHTML = "<strong>H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng V√≤ng quay:</strong><br/><br/>" +
      "1. Nh·∫≠p t√™n ng∆∞·ªùi tham gia v√†o √¥ b√™n tr√°i.<br/>" +
      "2. Click v√†o v√≤ng quay ƒë·ªÉ b·∫Øt ƒë·∫ßu quay.<br/>" +
      "3. K·∫øt qu·∫£ quay ƒë∆∞·ª£c hi·ªÉn th·ªã ·ªü b·∫£ng b√™n ph·∫£i.<br/>" +
      "4. Nh·∫•n 'F5' l√†m m·ªõi t·∫•t c·∫£, c√°c n√∫t full/tho√°t full m√†n h√¨nh<br/>" +
      "·ª®ng d·ª•ng ƒëang th·ª≠ nghi·ªám v√† ph√°t tri·ªÉn t√πy theo nhu c·∫ßu v√† m·ª•c ƒë√≠ch s·ª≠ d·ª•ng kh√°c nhau, r·∫•t mong s·ª± g√≥p √Ω c·ªßa c√°c b·∫°n!<br/> üéØ Ch√∫c b·∫°n may m·∫Øn v√† c√≥ tr·∫£i nghi·ªám th√∫ v·ªã!";
    infoBox.style.display = "block";
  }
}


  function showContact() {
  const infoBox = document.getElementById("info-box");
  if (infoBox.style.display === "block" && infoBox.innerHTML.includes("Th√¥ng tin li√™n h·ªá")) {
    infoBox.style.display = "none";
  } else {
    infoBox.innerHTML = "<strong>Th√¥ng tin li√™n h·ªá t√°c gi·∫£:</strong><br/><br/>" +
      "üë§ H·ªç t√™n: Mai Thi·ªán Ch√°nh<br/>" +
      "üè´ ƒê∆°n v·ªã c√¥ng t√°c: Tr∆∞·ªùng THCS ƒê·ª©c Ph√∫, t·ªânh L√¢m ƒê·ªìng<br/>" +
      "üìß Email: <a href='mailto:maithienchanh@gmail.com'>maithienchanh@gmail.com</a><br/>" +
      "üìû Phone: 0333.289.379";
    infoBox.style.display = "block";
  }
}


  </script>
<!-- Th√™m ph·∫ßn t·ª≠ audio -->
<audio id="alarmSound" preload="auto" src="chuong.mp3"></audio>
<script>
  const timeSelect = document.getElementById("timeSelect");
  const alarmSound = document.getElementById("alarmSound");

  for (let i = 15; i <= 2700; i += 15) {
    const minutes = Math.floor(i / 60);
    const seconds = i % 60;
    let label = "";
    if (minutes > 0) label += `${minutes} ph√∫t`;
    if (seconds > 0) label += ` ${seconds} gi√¢y`;
    timeSelect.innerHTML += `<option value="${i}">${label.trim()}</option>`;
  }

  let countdownInterval;

  function startCountdown() {
    clearInterval(countdownInterval);
    let totalSeconds = parseInt(timeSelect.value);
    const initialSeconds = totalSeconds;
    updateDisplay(totalSeconds, initialSeconds);
    countdownInterval = setInterval(() => {
      totalSeconds--;
      updateDisplay(totalSeconds, initialSeconds);
      if (totalSeconds <= 0) {
        clearInterval(countdownInterval);
        document.getElementById("timer-box").textContent = "H·∫øt gi·ªù!";
        alarmSound.play(); // üîî Ph√°t √¢m thanh
      }
    }, 1000);
  }

  function updateDisplay(secondsLeft, totalSeconds) {
    const minutes = Math.floor(secondsLeft / 60);
    const seconds = secondsLeft % 60;
    const timeStr = `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
    const percentElapsed = 1 - secondsLeft / totalSeconds;
    const red = Math.floor(255 * percentElapsed);
    const color = `rgb(${red}, 0, 0)`;
    const timerBox = document.getElementById("timer-box");
    timerBox.textContent = timeStr;
    timerBox.style.backgroundColor = color;
  }
</script>
<!-- K·∫øt th√∫c ƒë·ªìng h·ªì ƒë·∫øm ng∆∞·ª£c d·∫°ng ngang -->
</center>

<div style="position: fixed; bottom: 2px; right: 20px; z-index: 1001; display: flex; align-items: center; gap: 10px;">
  <label style="
    display: flex;
    align-items: center;
    justify-content: center;
    height: 38px;
    padding: 0 10px;
    background-color: #FFD700;
    border-radius: 6px;
    font-size: 14px;
    font-weight: bold;
    cursor: pointer;
    box-sizing: border-box;
  ">
    <input type="checkbox" id="bgMusicToggle" style="width: 18px; height: 18px; margin-right: 6px;" />
    NH·∫†C N·ªÄN X·ªî S·ªê
  </label>

  <button id="homeButton" onclick="window.location.href='index.html'" style="
    background-color: red;
    color: white;
    font-weight: bold;
    border: none;
    padding: 10px 15px;
    border-radius: 5px;
    cursor: pointer;
  ">
    üè† V·ªÄ TRANG CH·ª¶
  </button>
</div>

<div style="
  position: fixed;
  bottom: 20px;
  left: 20px;
  z-index: 9999;
  display: flex;
  flex-direction: column;
  gap: 10px;
  align-items: flex-start;
">
  <button id="fullscreen-btn" onclick="toggleFullscreen()" style="
    background-color: #3498db;
    color: white;
    font-weight: bold;
    border: none;
    padding: 10px 15px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 16px;
    width: 220px;
    display: block;
transition: background-color 0.3s ease;
  ">
    üì± FULL M√ÄN H√åNH
  </button>
</div>
<script>
/* Toggle fullscreen (d·ª±ng theo English.html) */
function toggleFullscreen() {
    const docElm = document.documentElement;

    // N·∫øu ƒëang fullscreen -> tho√°t
    if (document.fullscreenElement || document.webkitIsFullScreen || document.mozFullScreen || document.msFullscreenElement) {
        if (document.exitFullscreen) {
            document.exitFullscreen();
        } else if (document.mozCancelFullScreen) { // Firefox
            document.mozCancelFullScreen();
        } else if (document.webkitExitFullscreen) { // Chrome, Safari, Opera
            document.webkitExitFullscreen();
        } else if (document.msExitFullscreen) { // IE/Edge
            document.msExitFullscreen();
        }
    } else {
        // V√†o fullscreen
        if (docElm.requestFullscreen) {
            docElm.requestFullscreen();
        } else if (docElm.mozRequestFullScreen) { // Firefox
            docElm.mozRequestFullScreen();
        } else if (docElm.webkitRequestFullscreen) { // Chrome, Safari and Opera
            docElm.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);
        } else if (docElm.msRequestFullscreen) { // IE/Edge
            docElm.msRequestFullscreen();
        }
    }
}

/* C·∫≠p nh·∫≠t nh√£n n√∫t khi tr·∫°ng th√°i fullscreen thay ƒë·ªïi (nh·∫•n ESC) */
function updateFullscreenButton() {
    const fullscreenBtn = document.getElementById('fullscreen-btn');
    if (!fullscreenBtn) return;

    const isFullscreen = document.fullscreenElement || document.webkitIsFullScreen || document.mozFullScreen || document.msFullscreenElement;

    if (isFullscreen) {
        fullscreenBtn.innerHTML = '‚ùå FULL M√ÄN H√åNH';
        fullscreenBtn.style.backgroundColor = '#e67e22'; // m√†u khi ƒëang fullscreen
    } else {
        fullscreenBtn.innerHTML = 'üì± FULL M√ÄN H√åNH';
        fullscreenBtn.style.backgroundColor = '#3498db'; // m√†u khi ch∆∞a fullscreen
    }
}

/* L·∫Øng nghe s·ª± ki·ªán thay ƒë·ªïi fullscreen (k√®m c√°c ti·ªÅn t·ªë cho tr√¨nh duy·ªát) */
document.addEventListener('fullscreenchange', updateFullscreenButton);
document.addEventListener('webkitfullscreenchange', updateFullscreenButton);
document.addEventListener('mozfullscreenchange', updateFullscreenButton);
document.addEventListener('MSFullscreenChange', updateFullscreenButton);

/* Kh·ªüi t·∫°o tr·∫°ng th√°i n√∫t (n·∫øu trang load m√† ƒëang fullscreen) */
document.addEventListener('DOMContentLoaded', updateFullscreenButton);
</script>

<audio id="bgMusic" loop src="xoso.mp3"></audio>
<script>
  const bgMusicToggle = document.getElementById("bgMusicToggle");
  const bgMusic = document.getElementById("bgMusic");

  bgMusic.volume = 0.5; // ch·ªânh √¢m l∆∞·ª£ng n·ªÅn t·∫°i ƒë√¢y

  bgMusicToggle.addEventListener("change", () => {
    if (bgMusicToggle.checked) {
      bgMusic.play();
    } else {
      bgMusic.pause();
      bgMusic.currentTime = 0;
    }
  });
</script>

<audio id="spinSound" src="spin.mp3" preload="auto"></audio>
<audio id="cheerSound" src="cheer.mp3" preload="auto"></audio>

    <!-- N√∫t c·ªë ƒë·ªãnh c√≥ th·ªÉ k√©o -->
<button class="menu-toggle draggable"><img src="TC.png" alt="Menu" class="menu-icon"></button>

<!-- Overlay -->
<div id="overlay" class="overlay"></div>

<!-- Menu -->
<div id="sideMenu" class="side-menu">
<a href="index.html">üè† Trang ch·ªß</a>
  <a href="vong_quay_so.html">üéØ V√≤ng quay s·ªë</a>
  <a href="vong_quay_ten.html">üë• V√≤ng quay t√™n</a>
  <a href="Ai_la_trieu_phu.html">üí∞ Ai l√† tri·ªáu ph√∫</a>
  <a href="O_Chu_bi_mat.html">üß© T√¨m √î ch·ªØ b√≠ m·∫≠t</a>
  <a href="O_Chu_tron_tim.html">üîç Tinh m·∫Øt t√¨m t·ª´</a>
    <a href="doan_tu.html">üî§ Game suy ƒëo√°n t·ª´</a>
  <a href="soan_cau_hoi.html">üìù So·∫°n ƒë·ªÅ TN Tick ch·ªçn + ch·∫•m ƒëi·ªÉm</a>
    <a href="sukienVN.html">üìñ Theo d√≤ng s·ª± ki·ªán - l·ªãch s·ª≠ VN</a> 
  <a href="fx-570VN%20Plus.html">üìü Gi·∫£ l·∫≠p Fx-570 + B·∫£ng tu·∫ßn ho√†n NTHH</a>
  <a href="Caro.html">üéÆ Game Caro + Music</a>
  <a href="#" onclick="toggleMenu()">‚ùå ƒê√≥ng Menu</a>

</div>

<script src="menu.js"></script>
    
<script src="chao_name.js"></script>
</body>
</html>
